<div class="container mt-4">
  <div class="row">
    <!-- Center the form in the middle of the page -->
    <div class="col-md-8 offset-md-2">
      <h2 class="text-center">Create Manager</h2>

      <!-- Manager Form -->
      <form [formGroup]="managerForm" (ngSubmit)="onSubmit()">
        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label for="username">Username</label>
              <input type="text" id="username" formControlName="username" class="form-control"
                placeholder="Enter username" />
              <div *ngIf="managerForm.get('username')?.invalid && managerForm.get('username')?.touched"
                class="text-danger">
                Username is required
              </div>
            </div>

            <div class="form-group">
              <label for="fullName">Full Name</label>
              <input type="text" id="fullName" formControlName="fullName" class="form-control"
                placeholder="Enter full name" />
              <div *ngIf="managerForm.get('fullName')?.invalid && managerForm.get('fullName')?.touched"
                class="text-danger">
                Full Name is required
              </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label for="email">Email</label>
              <input type="email" id="email" formControlName="email" class="form-control" placeholder="Enter email" />
              <div *ngIf="managerForm.get('email')?.invalid && managerForm.get('email')?.touched" class="text-danger">
                <div *ngIf="managerForm.get('email')?.errors?.['required']">Email is required</div>
                <div *ngIf="managerForm.get('email')?.errors?.['email']">Invalid email format</div>
              </div>
            </div>

            <div class="form-group">
              <label for="address">Address</label>
              <input type="text" id="address" formControlName="address" class="form-control"
                placeholder="Enter address" />
              <div *ngIf="managerForm.get('address')?.invalid && managerForm.get('address')?.touched"
                class="text-danger">
                Address is required
              </div>
            </div>
          </div>
        </div>


        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label for="gender">Gender</label>
              <select id="gender" formControlName="gender" class="form-control">
                <option value="">Select gender</option>
                <option value="Male">Male</option>
                <option value="Female">Female</option>
                <option value="Other">Other</option>
              </select>
              <div *ngIf="managerForm.get('gender')?.invalid && managerForm.get('gender')?.touched"
                class="text-danger">
                Gender is required
              </div>
            </div>

            <div class="form-group">
              <label for="dateOfBirth">Date of Birth</label>
              <input type="date" id="dateOfBirth" formControlName="dateOfBirth" class="form-control" />
              <div *ngIf="managerForm.get('dateOfBirth')?.invalid && managerForm.get('dateOfBirth')?.touched"
                class="text-danger">
                Date of Birth is required
              </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label for="nidNo">National ID Number</label>
              <input type="number" id="nidNo" formControlName="nidNo" class="form-control"
                placeholder="Enter NID Number" />
              <div *ngIf="managerForm.get('nidNo')?.invalid && managerForm.get('nidNo')?.touched" class="text-danger">
                National ID Number is required and must be numeric.
              </div>
            </div>

            <div class="form-group">
              <label for="contactNumber">Contact Number</label>
              <input type="text" id="contactNumber" formControlName="contactNumber" class="form-control"
                placeholder="Enter contact number" />
              <div *ngIf="managerForm.get('contactNumber')?.invalid && managerForm.get('contactNumber')?.touched"
                class="text-danger">
                Contact Number is required
              </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label for="departmentId">Department</label>
              <select id="departmentId" formControlName="departmentId" class="form-control"
                (change)="onDepartmentChange()">
                <option value="">Select department</option>
                <option *ngFor="let department of departments" [value]="department.id">
                  {{ department.name }}
                </option>
              </select>
              <div *ngIf="managerForm.get('departmentId')?.invalid && managerForm.get('departmentId')?.touched"
                class="text-danger">
                Department is required
              </div>
            </div>

            <div class="form-group">
              <label for="hireDate">Hire Date</label>
              <input type="datetime-local" id="hireDate" formControlName="hireDate" class="form-control"
                [disabled]="true" />
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label for="status">Status</label>
              <select id="status" formControlName="status" class="form-control">
                <option value="true">Active</option>
                <option value="false">Inactive</option>
              </select>
            </div>

            <div class="form-group">
              <label for="hourlyRate">Hourly Rate</label>
              <input type="number" id="hourlyRate" formControlName="hourlyRate" class="form-control"
                [value]="managerForm.get('hourlyRate')?.value" [disabled]="true" />
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="profilePhoto">Profile Photo</label>
          <input type="text" id="profilePhoto" formControlName="profilePhoto" class="form-control"
            placeholder="Enter profile photo URL" />
        </div>

        <!-- Buttons -->
        <div class="button-container">
          <button type="submit" class="btn btn-primary">Create Manager</button>
          <button type="button" (click)="resetForm()" class="btn btn-secondary">Reset</button>
          <button type="button" (click)="cancel()" class="btn btn-secondary">Cancel</button>
        </div>
      </form>
    </div>
  </div>
</div>