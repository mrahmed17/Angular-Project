<div class="container mt-4">
  <form [formGroup]="viewManagerForm">
    <div class="row">
      <div class="col-md-4">
        <div class="form-group">
          <label for="department">Select Department</label>
          <select id="department" formControlName="departmentId" class="form-control">
            <option value="">-- Select Department --</option>
            <option *ngFor="let department of departments" [value]="department.id">
              {{ department.name }}
            </option>
          </select>
        </div>
      </div>
    </div>
  </form>

  <div *ngIf="loading" class="text-center">
    <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
    Loading...
  </div>

  <div *ngIf="errorMessage" class="alert alert-danger">
    {{ errorMessage }}
  </div>

  <h2 class="text-center">View Managers</h2>

  <div class="row">
    <div class="col-md-4" *ngFor="let manager of managers">
      <div class="card mb-4">
        <img *ngIf="manager.profilePhoto" [src]="manager.profilePhoto" class="card-img-top profile-photo"
          alt="{{ manager.fullName }}" />
        <div class="card-body">
          <h5 class="card-title">{{ manager.fullName }}</h5>
          <p class="card-text"><strong>Username:</strong> {{ manager.username }}</p>
          <p class="card-text"><strong>Email:</strong> {{ manager.email }}</p>
          <p class="card-text"><strong>Contact Number:</strong> {{ manager.contactNumber }}</p>
          <p class="card-text"><strong>Gender:</strong> {{ manager.gender || 'N/A' }}</p>
          <p class="card-text"><strong>NID Number:</strong> {{ manager.nidNo || 'N/A' }}</p>
          <p class="card-text"><strong>Hire Date:</strong> {{ manager.hireDate | date }}</p>
          <!-- <p class="card-text"><strong>Last Login:</strong> {{ manager.lastLogin | date }}</p> -->
          <p class="card-text"><strong>Status:</strong> {{ manager.status ? 'Active' : 'Inactive' }}</p>
          <p class="card-text"><strong>Hourly Rate:</strong> {{ manager.hourlyRate | currency }}</p>
          <p class="card-text"><strong>Updated At:</strong> {{ manager.updatedAt | date }}</p>
        </div>
      </div>
    </div>
  </div>

  <div class="text-center mt-3">
    <button class="btn btn-secondary" (click)="goBack()">Back to List</button>
  </div>
</div>